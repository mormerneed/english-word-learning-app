{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file://G%3A/english-word-learning-app/src/app/api/chat/route.ts"],"sourcesContent":["// pages/api/chat.ts\r\nimport { NextRequest, NextResponse } from \"next/server\";\r\n\r\n\r\nexport async function POST(req: NextRequest) {\r\n  const { message, topic, words } = await req.json();\r\n\r\n  const prompt = `\r\nYou are an AI English tutor.  \r\nYour task is to have a casual conversation about **${topic}** with the user. Use some of the words from the list below in your responses. You don't need to use all of them, just one or two in each response.  \r\nWhenever you use one of these words, provide its Chinese meaning in parentheses. Also, choose two slightly more difficult words from the list and provide their Chinese meanings as well.  \r\nKeep the conversation light, friendly, and fun! Try to engage the user by asking questions related to the topic.35 to 40 words are enough!\r\n\r\nHere are the words: **${words.join(\", \")}**\r\n  `;\r\n\r\n  const aiResponse = await fetch(\"https://api.deepseek.com/v1/chat/completions\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"Authorization\": `Bearer ${process.env.DEEPSEEK_API_KEY}`,\r\n    },\r\n    body: JSON.stringify({ model: \"deepseek-chat\", messages: [{ role: \"system\", content: prompt }, { role: \"user\", content: message }] }),\r\n  });\r\n\r\n  const data = await aiResponse.json();\r\n  return NextResponse.json({ reply: data.choices[0].message });\r\n}"],"names":[],"mappings":"AAAA,oBAAoB;;;;AACpB;;AAGO,eAAe,KAAK,GAAgB;IACzC,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,MAAM,IAAI,IAAI;IAEhD,MAAM,SAAS,CAAC;;mDAEiC,EAAE,MAAM;;;;sBAIrC,EAAE,MAAM,IAAI,CAAC,MAAM;EACvC,CAAC;IAED,MAAM,aAAa,MAAM,MAAM,gDAAgD;QAC7E,QAAQ;QACR,SAAS;YACP,gBAAgB;YAChB,iBAAiB,CAAC,OAAO,EAAE,QAAQ,GAAG,CAAC,gBAAgB,EAAE;QAC3D;QACA,MAAM,KAAK,SAAS,CAAC;YAAE,OAAO;YAAiB,UAAU;gBAAC;oBAAE,MAAM;oBAAU,SAAS;gBAAO;gBAAG;oBAAE,MAAM;oBAAQ,SAAS;gBAAQ;aAAE;QAAC;IACrI;IAEA,MAAM,OAAO,MAAM,WAAW,IAAI;IAClC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;QAAE,OAAO,KAAK,OAAO,CAAC,EAAE,CAAC,OAAO;IAAC;AAC5D","debugId":null}}]
}